"use strict";var resolvables;resolvables={},angular.module("config",[]),angular.module("common",["ui.route","config","ngMobile","ngCookies","restangular","ui.bootstrap","ui.select2"]),angular.module("account",[]),angular.module("dashboard",[]),angular.module("pages",[]),angular.module("platform",[]),angular.module("app",["config","common","dashboard","account","pages","platform"]),angular.element(document).ready(function(){return angular.bootstrap(document,["app"])}),angular.module("account").config(["$routeProvider","WardenProvider",function(e,r){return r.simplify(e).set_template_prefix("views/account").when("freelancer.login").when("freelancer.login.custom_provider").when("freelancer.register").when("freelancer.register.custom_provider").when("employer.login").when("employer.login.custom_provider").when("employer.register").when("employer.register.custom_provider").when("account.email_confirmation/:userId/:token",{omitView:!0}).when("account.reset_password/:userId/:token")}]),angular.module("account").controller("AccountEmailConfirmationCtrl",["$scope","$routeParams","Auth","User",function(e,r,t,o){return o.activate_with_token(r.userId,r.token).then(function(r){return e.notify_success("Your email has been verified"),t.create_session({user_type:r.user_type,auth_id:r.auth_id,auth_provider:r.auth_provider,token:r.token})},function(){return e.notify_error("We are unable to activate this account.")}),e.$on("session:created",function(r,t){return e.attemptLogin().then(function(){return e.redirect_to("dashboard."+t.user_type.toLowerCase()+".profile",{success:"Please proceed to furnish your account information"})},function(){return e.notify_error("Unable to log you in")})})}]),angular.module("account").controller("AccountResetPasswordCtrl",["$scope","$routeParams","User",function(e,r,t){return e.user={new_password:""},e.submitForm=function(){return t.reset_password_with_token(r.userId,r.token,e.user.new_password).then(function(){return e.redirect_to("home",{success:"Your password is changed successfully. Please login"})},function(){return e.notify_error("Unable to reset password. Token is invalid.")})}}]),angular.module("account").controller("EmployerLoginCtrl",["$scope","Auth","CustomProvider","$dialog",function(e,r,t,o){return e.linkedinConnect=function(){return t.connect("linkedin","Employer","employer")},e.submitForm=function(){return e.clear_notifications(),r.authenticate("Employer",e.user.email,"local",e.user.password)},e.forgotPassword=function(){return o.dialog().open("dialogs/account.forgot_password.html").then(function(e){return null!=e?r.forgot_password("Employer",e,"local"):void 0})}}]),angular.module("account").controller("EmployerLoginCustomProviderCtrl",["$scope","Auth","MemoryStore",function(e,r,t){var o;return o=t.get("auth_info"),e.user=o,console.log(o),t.clear(),e.submitForm=function(){return e.clear_notifications(),r.authenticate("Employer",e.user.auth_id,e.user.auth_provider,e.user.password)},e.forgotPassword=function(){return r.forgot_password(o.user_class,o.auth_id,o.auth_provider)}}]),angular.module("account").controller("EmployerRegisterCtrl",["$scope","Auth","CustomProvider",function(e,r,t){return e.linkedinConnect=function(){return t.connect("linkedin","Employer","employer")},e.submitForm=function(){var t;return e.clear_notifications(),t={first_name:e.user.first_name,last_name:e.user.last_name,photo_url:"styles/img/profile.jpg"},r.register("Employer",e.user.email,"local",e.user.email,e.user.password,t)}}]),angular.module("account").controller("EmployerRegisterCustomProviderCtrl",["$scope","Auth","MemoryStore",function(e,r,t){var o;return o=t.get("auth_info"),console.log(o),e.user=o,t.clear(),e.submitForm=function(){return e.clear_notifications(),r.register("Employer",e.user.auth_id,e.user.auth_provider,e.user.email,e.user.password,e.user.additional_fields)}}]),angular.module("account").controller("FreelancerLoginCtrl",["$scope","Auth","CustomProvider","$dialog",function(e,r,t,o){return e.linkedinConnect=function(){return t.connect("linkedin","Freelancer","freelancer")},e.submitForm=function(){return e.clear_notifications(),r.authenticate("Freelancer",e.user.email,"local",e.user.password)},e.forgotPassword=function(){return o.dialog().open("dialogs/account.forgot_password.html").then(function(e){return null!=e?r.forgot_password("Freelancer",e,"local"):void 0})}}]),angular.module("account").controller("FreelancerLoginCustomProviderCtrl",["$scope","Auth","MemoryStore",function(e,r,t){var o;return o=t.get("auth_info"),e.user=o,t.clear(),e.submitForm=function(){return e.clear_notifications(),r.authenticate("Freelancer",e.user.auth_id,e.user.auth_provider,e.user.password)},e.forgotPassword=function(){return r.forgot_password(o.user_class,o.auth_id,o.auth_provider)}}]),angular.module("account").controller("FreelancerRegisterCtrl",["$scope","Auth","CustomProvider",function(e,r,t){return e.linkedinConnect=function(){return t.connect("linkedin","Freelancer","freelancer")},e.submitForm=function(){var t;return e.clear_notifications(),t={first_name:e.user.first_name,last_name:e.user.last_name,photo_url:"styles/img/profile.jpg"},r.register("Freelancer",e.user.email,"local",e.user.email,e.user.password,t)}}]),angular.module("account").controller("FreelancerRegisterCustomProviderCtrl",["$scope","Auth","MemoryStore",function(e,r,t){var o;return o=t.get("auth_info"),console.log(o),e.user=o,t.clear(),e.submitForm=function(){return e.clear_notifications(),r.register("Freelancer",e.user.auth_id,e.user.auth_provider,e.user.email,e.user.password,e.user.additional_fields)}}]),angular.module("account").run(["$rootScope","Auth","$q",function(e,r,t){return e.logout=function(){return r.logout(),e.$broadcast("logged_out"),e.redirect_to("",{success:"You are logged out"})},e.attemptLogin=function(o){var n,i;return null==o&&(o={}),i=t.defer(),null!=e.authenticated&&e.authenticated?i.resolve(e.current_user):(n=r.user({delegate:!0}),n.then(function(r){return e.current_user=r,e.authenticated=!0,e.user_class=r.user_type,e.user_type=r.user_type.toLowerCase(),"function"==typeof o.successHandler&&o.successHandler(r),i.resolve(r)},function(){return e.current_user=null,e.authenticated=!1,e.user_class="User",e.user_type="guest","function"==typeof o.failedHandler&&o.failedHandler(user),i.reject("user is not logged in")})),i.promise},angular.forEach(["logged_out","login:started"],function(r){return e.$on(r,function(){return e.current_user=null,e.authenticated=!1,e.user_class="User",e.user_type="guest"})}),e.$on("authenticate:success",function(r,t){return e.attemptLogin({successHandler:function(r){var o;return o=t.register?"Welcome to CreativesAtWork!":"You are logged in",e.redirect_to("dashboard."+r.user_type.toLowerCase()+".profile",{success:o})}})}),e.attemptLogin()}]);var __hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var o in r)__hasProp.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};angular.module("account").factory("User",["Restangular","$rootScope","$filter",function(e,r,t){var o,n;return o=function(r){function t(){return n=t.__super__.constructor.apply(this,arguments)}return __extends(t,r),t.prototype.get_from_account=function(r,t,o){return this.before_operation({user_type:r,auth_id:t,auth_provider:o}),e.all("users").customGET("get_from_account",{user_type:r,auth_id:t,auth_provider:o})},t.prototype.authenticate_with_token=function(r){return this.before_operation({session:r}),e.all("users").customGET("authenticate_with_token",r)},t.prototype.register=function(r,t,o,n,i,u){var a;return a={user_type:r,auth_id:t,auth_provider:o,email:n,password:i,additional_fields:u},this.before_operation(a),e.all("users").customPOST("register",{},{},a)},t.prototype.authenticate=function(r,t,o,n){var i;return i={user_type:r,auth_id:t,auth_provider:o,password:n},this.before_operation(i),e.all("users").customGET("authenticate",i)},t.prototype.activate_with_token=function(r,t){var o;return o={token:t},this.before_operation(o),e.one("users",r).customGET("activate_with_token",o)},t.prototype.forgot_password=function(r,t,o){var n;return n={user_type:r,auth_id:t,auth_provider:o},this.before_operation(n),e.all("users").customPOST("forgot_password",{},{},n)},t.prototype.reset_password_with_token=function(r,t,o){var n;return n={token:t,new_password:o},console.log(n),this.before_operation(n),e.one("users",r).customPOST("reset_password_with_token",{},{},n)},t.prototype.clear_notifications=function(r){return e.one("users",r).customPOST("clear_notifications",{},{})},t}(BaseModel),new o(e,r,t,"user","users")}]),resolvables.current_user=["Auth","$q","$rootScope",function(e,r,t){var o;return o=e.user({delegate:!0}),o.then(function(e){return t.current_user=e,t.authenticated=!0,t.user_class=e.user_type,t.user_type=e.user_type.toLowerCase(),e},function(){return t.current_user=null,t.authenticated=!1,t.user_class="User",t.user_type="guest",t.notify_error("Please login first",!1),r.reject("Access not allowed")})}],angular.module("account").service("Auth",["$rootScope","$http","ErrorProcessor","Session","User","$q",function(e,r,t,o,n,i){return this.create_session=function(t){return o.set(t.user_type,t.auth_id,t.auth_provider,t.token),r.defaults.headers.common["User-Authorization"]=o.as_json(),console.log(t),e.$broadcast("session:created",t)},this.user=function(e){var r;return null==e&&(e={}),o.isEmpty()?i.reject("Session does not exist"):(r=this.authenticate_with_token(o.attributes()),null!=e.delegate&&e.delegate?r:r.then(function(e){return e},function(e){return t.process_login(e)}))},this.register=function(r,o,i,u,a,s){var l=this;return n.register(r,o,i,u,a,s).then(function(t){return t.email_confirmation?e.notify_info("An email has been sent to verify your email address."):l.authenticate(r,o,i,a,!0)},function(e){return console.log(e),t.process_registration(e)})},this.authenticate=function(r,i,u,a,s,l){var c=this;return null==a&&(a=null),null==s&&(s=!1),null==l&&(l={}),o.destroy(),e.$broadcast("login:started"),n.authenticate(r,i,u,a).then(function(r){return c.create_session(r),e.$broadcast("authenticate:success",{authenticated:r,register:s}),"function"==typeof l.successHandler?l.successHandler(r):void 0},function(e){return t.process_login(e),"function"==typeof l.errorHandler?l.errorHandler(e):void 0})},this.authenticate_with_token=function(e){return n.authenticate_with_token(e)},this.logout=function(){return o.destroy()},this.forgot_password=function(r,o,i,u){return null==u&&(u={}),n.forgot_password(r,o,i).then(function(r){return e.notify_success("An email has been sent to you to reset your password"),"function"==typeof u.successHandler?u.successHandler(r):void 0},function(e){return console.log(e),t.process_forgot_password(e),"function"==typeof u.errorHandler?u.errorHandler(e):void 0})},this}]),angular.module("account").factory("CustomProvider",["Auth","User","$rootScope","MemoryStore","$timeout",function(e,r,t,o,n){var i;return i=function(){function e(){}var i,u,a,s;return u=function(){return t.notify_error("You need to authorize this app in order to log in")},i=function(e){return n(function(){var n;return n=r.get_from_account(e.user_class,e.auth_id,e.auth_provider),n.then(function(){return o.set("auth_info",e),t.redirect_to(""+e.user_type+".login.custom_provider")},function(){return o.set("auth_info",e),t.redirect_to(""+e.user_type+".register.custom_provider")})},100)},a=function(e,r,t){return e.authResponse?FB.api("/me",function(e){var o;return i({user_class:r,user_type:t,auth_id:e.id,auth_provider:"facebook",email:e.email,additional_fields:{first_name:e.first_name,last_name:e.last_name,location:null!=(o=e.location)?o.name:void 0,photo_url:"http://graph.facebook.com/"+e.id+"/picture"}})}):u()},s=function(e,r){return IN.API.Profile("me").fields("id","email-address","first-name","last-name","location","summary","specialties","positions","picture-url","public-profile-url","skills","certifications","educations","date-of-birth","three-current-positions").result(function(t){var o,n,u,a,s,l,c,d;return o={user_class:e,user_type:r,auth_id:t.values[0].emailAddress,auth_provider:"linkedin",email:t.values[0].emailAddress,additional_fields:{first_name:t.values[0].firstName,last_name:t.values[0].lastName,photo_url:t.values[0].pictureUrl,location:null!=(n=t.values[0].location)?n.name:void 0}},"freelancer"===r&&(o.additional_fields.job_title=null!=(u=t.values[0].threeCurrentPositions)?null!=(a=u.values)?null!=(s=a[0])?s.title:void 0:void 0:void 0,o.additional_fields.professional_history=null!=(l=t.values[0].threeCurrentPositions)?null!=(c=l.values)?null!=(d=c[0])?d.summary:void 0:void 0:void 0,o.additional_fields.other_information=t.values[0].summary),IN.API.Raw("/people/~/picture-urls::(original)").result(function(e){return o.additional_fields.photo_url=e.values[0]}),i(o)})},e.prototype.connect=function(e,r,o){return t.start_ajax(),n(function(){var t;switch(e){case"facebook":return FB.login(function(e){return a(e,r,o)},{scope:"email, user_about_me, user_location, publish_actions"});case"linkedin":return(null!=(t=IN.User)?t.isAuthorized():void 0)?s(r,o):(IN.User.authorize(),IN.Event.on(IN,"auth",function(){return s(r,o)}))}},100)},e}(),new i}]),angular.module("account").factory("Session",["$cookieStore",function(e){var r;return r=function(){function r(){this._init()}return r.prototype._init=function(){var r;return r=e.get("AuthSession"),this.user_type=null!=r?r.user_type:void 0,this.auth_id=null!=r?r.auth_id:void 0,this.auth_provider=null!=r?r.auth_provider:void 0,this.token=null!=r?r.token:void 0},r.prototype.attributes=function(){return{user_type:this.user_type,auth_id:this.auth_id,auth_provider:this.auth_provider,token:this.token}},r.prototype.set=function(r,t,o,n){return this.user_type=r,this.auth_id=t,this.auth_provider=o,this.token=n,e.put("AuthSession",this.attributes())},r.prototype.destroy=function(){return this.user_type=null,this.auth_id=null,this.auth_provider=null,this.token=null,e.remove("AuthSession")},r.prototype.as_json=function(){return JSON.stringify(this.attributes())},r.prototype.isEmpty=function(){return"{}"===this.as_json},r}(),new r}]),angular.module("account").config(["$routeProvider","$locationProvider",function(e,r){return e.otherwise({redirectTo:"/home"}),r.html5Mode(!1)}]),angular.module("common").config(["$dialogProvider",function(e){return e.options({backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",backdropFade:!0,dialogFade:!0,keyboard:!0,backdropClick:!0,controller:["$scope","dialog",function(e,r){return e.close=function(e){return r.close(e)}}]})}]),angular.module("common").config(["$httpProvider",function(e){var r;return r=["$q","$injector","$rootScope",function(e,r,t){var o,n;return n=function(e){var o;return o=r.get("$http"),1>o.pendingRequests.length&&t.$broadcast("ajax_loading:stopped"),e},o=function(o){var n;return n=r.get("$http"),1>n.pendingRequests.length&&t.$broadcast("ajax_loading:stopped"),e.reject(o)},function(e){return t.$broadcast("ajax_loading:started"),e.then(n,o)}}],e.responseInterceptors.push(r)}]),angular.module("common").config(["RestangularProvider","ServiceEndpoint",function(e,r){return e.setBaseUrl(r),e.setListTypeIsArray(!0),e.setFullRequestInterceptor(function(e,r,t,o,n,i){var u,a,s,l;if(null!=(null!=e?e._deny_fields:void 0))for(l=e._deny_fields,a=0,s=l.length;s>a;a++)u=l[a],delete e[u];return{element:e,operation:r,route:t,url:o,headers:n,params:i}}),e.setResponseExtractor(function(e){return e})}]),angular.module("common").directive("alerter",[function(){return{restrict:"E",replace:!0,scope:{closeCountDown:"@"},controller:["$scope","$timeout",function(e,r){var t,o;return e.alerts=[],o={dir1:"down",dir2:"left",push:"top",spacing1:25,spacing2:25,firstpos1:125,firstpos2:25},t=null,$.pnotify.defaults.history=!1,e.addAlert=function(n,i){var u,a,s;return a=function(){var r,t,o,n;for(o=e.alerts,n=[],r=0,t=o.length;t>r;r++)u=o[r],n.push(u.msg);return n}(),a.indexOf(i)>=0?void 0:(e.alerts.push({type:n,msg:i}),$.pnotify({text:i,type:n,stack:o}),null!=t&&r.cancel(t),s=3e3,angular.isDefined(e.closeCountDown)&&(s=e.closeCountDown),t=r(function(){return e.clearAlerts()},s))},e.clearAlerts=function(){return e.alerts=[],$.pnotify_remove_all()},e.$on("notification:info",function(r,t){return e.addAlert("info",t)}),e.$on("notification:success",function(r,t){return e.addAlert("success",t)}),e.$on("notification:error",function(r,t){return e.addAlert("error",t)}),e.$on("notification:clear",function(){return e.clearAlerts()})}]}}]),angular.module("common").directive("fileupload",[function(){return{restrict:"A",scope:{uploaderId:"@",serverDomain:"@",servicePath:"@"},link:function(e,r,t){var o;return o={url:""+t.serverDomain+"/"+t.servicePath,dataType:"json",add:function(r,o){return e.$emit("fileupload:add",{id:t.uploaderId,domain:t.serverDomain,path:t.servicePath,data:o}),o.submit()},done:function(r,o){return e.$emit("fileupload:done",{id:t.uploaderId,domain:t.serverDomain,path:t.servicePath,data:o})},progress:function(r,o){return e.$emit("fileupload:progress",{id:t.uploaderId,domain:t.serverDomain,path:t.servicePath,data:o})},fail:function(r,o){return e.$emit("fileupload:fail",{id:t.uploaderId,domain:t.serverDomain,path:t.servicePath,data:o})}},r.fileupload(o)}}}]),angular.module("common").directive("nailthumb",[function(){return{restrict:"A",scope:{method:"@",width:"@",height:"@",replaceAnimation:"@",ngSrc:"@"},link:function(e,r,t){var o;return o={method:"crop",width:"125",height:"125",replaceAnimation:"fade"},null!=t.method&&(o.method=t.method),null!=t.width&&(o.width=t.width),null!=t.height&&(o.height=t.height),null!=t.replaceAnimation&&(o.replaceAnimation=t.replaceAnimation),t.$observe("ngSrc",function(){return r.nailthumb(o)})}}}]),angular.module("common").directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,r,t,o){return e.$watch(function(){var r;return r=void 0,(e.passwordVerify||o.$viewValue)&&(r=e.passwordVerify+"_"+o.$viewValue),r},function(r){return r?o.$parsers.unshift(function(r){var t;return t=e.passwordVerify,t!==r?(o.$setValidity("passwordVerify",!1),void 0):(o.$setValidity("passwordVerify",!0),r)}):void 0})}}}),angular.module("common").directive("spinner",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/common/spinner.html",controller:["$scope",function(e){return e.$on("ajax_loading:started",function(){return e.isLoading=!0}),e.$on("ajax_loading:stopped",function(){return e.isLoading=!1})}],link:function(){var e,r;return e={lines:12,length:7,width:5,radius:10,color:"#fff",speed:1,trail:66,shadow:!0,left:"78px",top:"78px"},r=document.getElementById("spin"),new Spinner(e).spin(r)}}}]),angular.module("common").directive("tagsinput",[function(){return{restrict:"A",require:"?ngModel",link:function(e,r,t,o){var n,i,u;if(o)return n=!1,i={onChange:function(){return u()}},u=function(){return o.$setViewValue(r.val())},o.$render=function(){return angular.isString(o.$viewValue)&&(r.val(o.$viewValue),r.attr("value",o.$viewValue)),n?void 0:(r.tagsInput(i),n=!0)}}}}]),angular.module("common").run(["$rootScope",function(e){return e.start_ajax=function(){return e.$broadcast("ajax_loading:started")},e.stop_ajax=function(){return e.$broadcast("ajax_loading:stopped")}}]),angular.module("common").run(["$rootScope","$log",function(e,r){return e.alert=function(e){return alert(e)},e.log=function(e){return r.log(e)},e.warn=function(e){return r.warn(e)},e.error=function(e){return r.error(e)}}]),angular.module("common").run(["$rootScope",function(e){return e.notify_info=function(r,t){return null==t&&(t=!1),t||e.$broadcast("notification:clear"),e.$broadcast("notification:info",r)},e.notify_error=function(r,t){return null==t&&(t=!0),t||e.$broadcast("notification:clear"),e.$broadcast("notification:error",r)},e.notify_success=function(r,t){return null==t&&(t=!1),t||e.$broadcast("notification:clear"),e.$broadcast("notification:success",r)},e.clear_notifications=function(){return e.$broadcast("notification:clear")}}]),angular.module("common").run(["$rootScope","$location",function(e,r){return e.redirect_to=function(t,o){return null==o&&(o={}),t=t.replace(/^\//,""),null!=o.success&&e.notify_success(o.success),null!=o.info&&e.notify_info(o.info),null!=o.error&&e.notify_error(o.error),r.path("/"+t)}}]),angular.module("common").run(["$rootScope","$location",function(e,r){return e.$current_route="/",e.$on("$routeChangeSuccess",function(){return e.$current_route=r.path()})}]),angular.module("common").filter("inflector",function(){var e,r,t;return t=function(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})},e=function(e,r){return e.replace(/[A-Z]/g,function(e){return r+e})},r={humanize:function(r){return t(e(r," ").split("_").join(" "))},underscore:function(r){return r.substr(0,1).toLowerCase()+e(r.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(e){return e=e.substr(0,1).toLowerCase()+t(e.split("_").join(" ")).substr(1).split(" ").join("")}},function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",r[t](e)):e}});var BaseModel;BaseModel=function(){function e(e,r,t,o,n){this.Restangular=e,this.$rootScope=r,this.$filter=t,this.singularName=o,this.pluralName=n,this.humanizedSingularName=this.$filter("inflector")(this.singularName,"humanize"),this.humanizedPluralName=this.$filter("inflector")(this.pluralName,"humanize")}return e.prototype.before_operation=function(){return this.$rootScope.$broadcast("ajax_loading:started")},e.prototype.operation_success=function(){return this.$rootScope.$broadcast("ajax_loading:stopped")},e.prototype.operation_failed=function(){return this.$rootScope.$broadcast("ajax_loading:stopped")},e.prototype.create=function(e,r){var t,o,n=this;return null==r&&(r={}),this.before_operation({model:e,options:r}),o=this.Restangular.all(this.pluralName).post(e),null!=r.delegate&&r.delegate?o:(t={notify_success:!0,notify_error:!0},null!=r.notify_success&&(t.notify_success=r.notify_success),null!=r.notify_error&&(t.notify_error=r.notify_error),o.then(function(e){return n.operation_success({item:e}),t.notify_success&&n.$rootScope.notify_success(""+n.humanizedSingularName+" created successfully"),e},function(o){return n.operation_failed({response:o,model:e,options:r}),t.notify_error&&n.$rootScope.notify_error("Failed to create "+n.humanizedSingularName),console.log("@create error: "),console.log(o)}))},e.prototype.count=function(e){var r,t,o=this;return null==e&&(e={}),this.before_operation({options:e}),t={},null!=e.conditions&&(t.conditions=JSON.stringify(e.conditions)),null!=e.search&&(t.search=e.search),r=this.Restangular.all(this.pluralName).customGET("count",t),null!=e.delegate&&e.delegate?r:r.then(function(e){return o.operation_success({count:e}),e},function(r){return o.operation_failed({response:r,options:e}),console.log("@count error:"),console.log(r)})},e.prototype.all=function(e){var r,t,o=this;return null==e&&(e={}),this.before_operation({options:e}),t={limit:1e3,offset:0,order:"created_at DESC",page:1,per_page:100},null!=e.limit&&(t.limit=e.limit),null!=e.offset&&(t.offset=e.offset),null!=e.order&&(t.order=e.order),null!=e.page&&(t.page=e.page),null!=e.per_page&&(t.per_page=e.per_page),null!=e.includes&&(t.includes=JSON.stringify(e.includes)),null!=e.conditions&&(t.conditions=JSON.stringify(e.conditions)),null!=e.search&&(t.search=e.search),r=this.Restangular.all(this.pluralName).getList(t),null!=e.delegate&&e.delegate?r:r.then(function(e){return o.operation_success({list:e}),e},function(r){return o.operation_failed({response:r,options:e}),console.log("@all error:"),console.log(r)})},e.prototype.find=function(e,r){var t,o,n=this;return null==r&&(r={}),this.before_operation({id:e,options:r}),o={},null!=r.includes&&(o.includes=JSON.stringify(r.includes)),t=this.Restangular.one(this.pluralName,e).get(o),null!=r.delegate&&r.delegate?t:t.then(function(e){return n.operation_success({item:e}),e},function(e){return n.operation_failed({response:e}),n.$rootScope.notify_error("Unable to find "+n.humanizedSingularName),console.log("@find error"),console.log(e)})},e.prototype.destroy=function(e,r){var t,o=this;return null==r&&(r={}),this.before_operation({id:e,options:r}),console.log(e),console.log(this.Restangular.one(this.pluralName,e).remove),t=this.Restangular.one(this.pluralName,e).remove(),null!=r.delegate&&r.delegate?t:t.then(function(e){return o.operation_success({item:e})},function(e){return o.operation_failed({response:e}),o.$rootScope.notify_error("Unable to delete "+o.humanizedSingularName),console.log("@destroy error"),console.log(e)})},e}(),angular.module("common").provider("Warden",function(){var e;return e=function(){function e(){}return e.prototype.$get=function(){},e.prototype.simplify=function(e){return this.routeProvider=e,this.requireUser=!1,this.omitView=!1,this.omitController=!1,this},e.prototype.set_template_prefix=function(e){return this.templatePrefix=e,"/"!==e.slice(-1)&&(this.templatePrefix+="/"),this},e.prototype.require_user=function(){return this.requireUser=!0,this},e.prototype.omit_view=function(){return this.omitView=!0,this},e.prototype.omit_controller=function(){return this.omitController=!0,this},e.prototype.when=function(e,r){var t,o,n,i,u,a,s,l,c,d,f;if(null==r&&(r={}),"/"===e.slice(0,1)&&(e=e.slice(1)),t=e.split("/")[0],n=function(){var e,r,o,n;for(o=t.split(/\.|_/),n=[],e=0,r=o.length;r>e;e++)l=o[e],n.push(l.capitalize());return n}(),a=r.route||"/"+e,o=""+n.join("")+"Ctrl",s=""+this.templatePrefix+t+".html",u={},null==r.user&&(r.user=this.requireUser),null==r.omitView&&(r.omitView=this.omitView),null==r.omitController&&(r.omitController=this.omitController),r.user&&(u.current_user=resolvables.current_user),null!=r.resolves)for(f=r.resolves,c=0,d=f.length;d>c;c++)i=f[c],u[i]=resolvables[i];return r.omitView&&(s="views/pages/empty.html"),null!=r.templateUrl&&(s=r.templateUrl),r.omitController?this.routeProvider.when(a,{templateUrl:s,resolve:u}):this.routeProvider.when(a,{templateUrl:s,controller:o,resolve:u}),this},e}(),new e}),angular.module("common").service("ErrorProcessor",["$rootScope","$log",function(e,r){return this.process_save=function(t,o){var n,i,u,a,s;switch(t.status){case 422:a=t.data,s=[];for(u in a)i=a[u],s.push(function(){var t,o,a;for(a=[],t=0,o=i.length;o>t;t++)n=i[t],r.error(n),a.push(e.notify_error(""+u+" "+n));return a}());return s;default:return null!=o?o():e.notify_error("Unable to save.")}},this.process_login=function(r,t){switch(r.status){case 401:if("message"in r.data)return e.notify_error(r.data.message);break;default:return null!=t?t():e.notify_error("Login failed")}},this.process_registration=function(r,t){switch(r.status){case 401:if("message"in r.data)return e.notify_error(r.data.message);break;default:return null!=t?t():e.notify_error("Registration Failed")}},this.process_forgot_password=function(r,t){switch(r.status){case 401:if("message"in r.data)return e.notify_error(r.data.message);break;default:return null!=t?t():e.notify_error("Sorry, we are unable to reset your password.")}},this}]),angular.module("common").service("MemoryStore",[function(){var e;return e={},this.set=function(r,t){return e[r]=t},this.get=function(r){return e[r]},this.del=function(r){return delete e[r]},this.inspect=function(){return e},this.clear=function(){return e={}},this}]),angular.module("config").constant("ServiceEndpoint","http://creativesatwork.me:3636"),angular.module("dashboard").controller("DashboardEmployerNotificationsCtrl",["$scope","User",function(e,r){return r.clear_notifications(e.current_user.id)}]),angular.module("dashboard").controller("DashboardEmployerProfileCtrl",["$scope","$rootScope",function(e,r){var t;return e.hasError=function(r){return!r.$valid&&(r.$dirty||e.submitted)},e.submitForm=function(){return e.submitted=!0,e.form.$valid?(e.clear_notifications(),r.current_user.put().then(function(t){return r.current_user=t,e.notify_success("Your profile is updated successfully")},function(){return window.scrollTo(0),e.notify_error("Form has missing or invalid values")})):(window.scrollTo(0),angular.forEach(e.form.$error,function(r,t){return angular.forEach(r,function(r){var o;switch(t){case"required":if(r.$error.required===!0)return e.notify_error(""+(null!=(o=r.$name)?o.humanize():void 0)+" is missing.");if(angular.isArray(r.$error.required))return e.notify_error(""+r.$error.required[0].$name.humanize()+" is missing");break;case"email":if(r.$error.email===!0)return e.notify_error(""+r.$viewValue+" is not a valid email.");if(angular.isArray(r.$error.email))return e.notify_error(""+r.$error.email[0].$viewValue+" is not a valid email.");break;case"url":if(r.$error.url===!0)return e.notify_error(""+r.$viewValue+" is not a valid url.");if(angular.isArray(r.$error.url))return e.notify_error(""+r.$error.url[0].$viewValue+" is not a valid url.")}})}))},t=function(){return e.submitted=!1},t()}]),angular.module("dashboard").controller("DashboardFreelancerNotificationsCtrl",["$scope","User",function(e,r){return r.clear_notifications(e.current_user.id)}]),angular.module("dashboard").controller("DashboardFreelancerProfileCtrl",["$scope","job_categories","$rootScope",function(e,r,t){var o;return e.$watch("current_user.job_title",function(o){return angular.forEach(e.jobTitles,function(e,n){return angular.forEach(e,function(e){return angular.equals(o,e)?angular.forEach(r,function(e){return angular.equals(e.name,n)?(console.log(e),t.current_user.job_category_id=e.id):void 0}):void 0})})}),e.select2Options={width:290},e.$on("fileupload:add",function(r,t){return e.$apply(function(){switch(t.id){case"avatar-uploader":return e.avatar_upload_state="Uploading...";case"portfolio-uploader":return e.portfolio_upload_state="Uploading..."}})}),e.$on("fileupload:done",function(r,o){var n,i,u,a;return n=null!=(i=o.data.result)?null!=(u=i.data)?null!=(a=u.content)?a.url:void 0:void 0:void 0,null!=n?e.$apply(function(){switch(o.id){case"avatar-uploader":return e.avatar_upload_state="",t.current_user.photo_url=n,t.current_user.put().then(function(){return e.notify_success("New profile picture saved."),e.$apply()},function(){return e.notify_error("Unable to change profile picture")});case"portfolio-uploader":return e.portfolio_upload_state="",t.current_user.portfolio_images.push({url:n})}}):void 0}),e.$on("fileupload:failed",function(){return e.avatar_upload_state="",e.portfolio_upload_state="",e.notify_error("Upload failed",!1)}),e.hasError=function(r){return!r.$valid&&(r.$dirty||e.submitted)},e.submitForm=function(){return e.submitted=!0,null===t.current_user.job_category_id?e.notify_error("Please select your job title from the list."):e.form.$valid?(e.clear_notifications(),t.current_user.put().then(function(r){return t.current_user=r,e.redirect_to("freelancers.show/"+r.id,{success:"Your profile is updated successfully"})},function(){return window.scrollTo(0),e.notify_error("Form has missing or invalid values")})):(window.scrollTo(0),angular.forEach(e.form.$error,function(r,t){return angular.forEach(r,function(r){var o;switch(t){case"required":if(r.$error.required===!0)return e.notify_error(""+(null!=(o=r.$name)?o.humanize():void 0)+" is missing.");if(angular.isArray(r.$error.required))return e.notify_error(""+r.$error.required[0].$name.humanize()+" is missing");break;case"email":if(r.$error.email===!0)return e.notify_error(""+r.$viewValue+" is not a valid email.");if(angular.isArray(r.$error.email))return e.notify_error(""+r.$error.email[0].$viewValue+" is not a valid email.");break;case"url":if(r.$error.url===!0)return e.notify_error(""+r.$viewValue+" is not a valid url.");if(angular.isArray(r.$error.url))return e.notify_error(""+r.$error.url[0].$viewValue+" is not a valid url.")}})}))},e.removePortfolio=function(e){return t.current_user.portfolios.splice(e,1)},e.addPortfolio=function(){return console.log(t.current_user.portfolios),t.current_user.portfolios.push({name:"",url:"",description:""}),console.log(t.current_user.portfolios)
},o=function(){var o,n;return e.submitted=!1,e.job_categories=r,e.jobTitles={Writing:_.uniq(["Scriptwriter","Writer","Copywriter","Journalist","Editor"]),Design:_.uniq(["Product Designer","Graphic Designer","Multimedia Designer","Motion Graphic Designer","Art Director","Creative Director","Set Designer","Wardrode Designer","Web Designer"]),Production:_.uniq(["2D & 3D Animator","Illustrator","Video Producer","Director","Soundman","Lightingman","Videographer","Cameraman","Grip & Gaffer","Production Manager","Location Manager","Director","Video Editor","3D Artist","Photographer","DI Artist","Audio Producer","Project Manager"]),Others:_.uniq(["Voice-over Artist","Translator","Marketing","PR"])},!(null!=(o=t.current_user.portfolios)?o.length:void 0)>0&&(t.current_user.portfolios=[]),!(null!=(n=t.current_user.portfolio_images)?n.length:void 0)>0?t.current_user.portfolio_images=[]:void 0},o()}]),angular.module("dashboard").config(["$routeProvider","WardenProvider",function(e,r){return r.simplify(e).set_template_prefix("views/dashboard").require_user().omit_controller().when("dashboard.employer").when("dashboard.employer.notifications",{omitController:!1}).when("dashboard.employer.completed_projects").when("dashboard.employer.pending_projects").when("dashboard.employer.active_projects").when("dashboard.employer.profile",{omitController:!1}).when("dashboard.create_project").when("dashboard.edit_project/:id").when("dashboard.freelancer").when("dashboard.freelancer.notifications",{omitController:!1}).when("dashboard.freelancer.offered_projects").when("dashboard.freelancer.bid_projects").when("dashboard.freelancer.active_projects").when("dashboard.freelancer.completed_projects").when("dashboard.freelancer.profile",{omitController:!1,resolves:["job_categories"]})}]),angular.module("dashboard").directive("employerActiveProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/employer.active_projects.html"}}]),angular.module("dashboard").directive("employerCompletedProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/employer.completed_projects.html"}}]),angular.module("dashboard").directive("employerPendingProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/employer.pending_projects.html",controller:["$scope",function(e){return e.fulfillBid=function(e,r){return console.log(r)}}]}}]),angular.module("dashboard").directive("freelancerActiveProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/freelancer.active_projects.html"}}]),angular.module("dashboard").directive("freelancerBidProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/freelancer.bid_projects.html"}}]),angular.module("dashboard").directive("freelancerCompletedProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/freelancer.completed_projects.html"}}]),angular.module("dashboard").directive("freelancerOfferedProjects",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/dashboard/freelancer.offered_projects.html"}}]),angular.module("dashboard").directive("projectForm",[function(){return{restrict:"EA",replace:!0,scope:{type:"@",user:"="},templateUrl:"forms/dashboard/project.html",controller:["$scope","JobCategory","Project","$rootScope","$routeParams",function(e,r,t,o,n){var i;return e.hasError=function(r){return!r.$valid&&(r.$dirty||e.submitted)},e.submitForm=function(){var r,n;if(e.submitted=!0,e.form.$valid){switch(o.clear_notifications(),e.type){case"new":r=t.create(e.project,{notify_success:!1}),n="Project created successfully";break;case"edit":r=e.project.put(),n="Project updated successfully"}return r.then(function(e){return o.redirect_to("projects.show/"+e.id,{success:n})},function(){return o.notify_error("Form has missing or invalid values")})}return o.notify_error("Form has missing or invalid values")},i=function(){switch(e.submitted=!1,e.job_categories=r.all(),e.type){case"new":e.project={employer_id:e.user.id};break;case"edit":t.find(n.id).then(function(r){return e.project=r})}return e.budget_ranges=["S$0 - S$500","S$500 - S$1000","S$1000 - S$2000","S$2000 - S$3000","S$3000 - S$5000","S$5000 - S$10000"]},i()}]}}]),angular.module("pages").controller("ContactCtrl",["$scope","Mailer",function(e,r){return e.submitForm=function(){return console.log(e.contact),r.contact_us(e.contact).then(function(){return e.notify_success("Thank you for contacting us. We will get back to you shortly")})}}]),angular.module("pages").controller("HomeCtrl",["$scope","freelancers",function(e,r){return e.freelancers_start=r.slice(0,4),e.freelancers_end=r.slice(4)}]),angular.module("pages").config(["$routeProvider","WardenProvider",function(e,r){return r.simplify(e).set_template_prefix("views/pages").when("home",{resolves:["freelancers"]}).when("about",{omitController:!0}).when("contact").when("terms",{omitController:!0}).when("privacy",{omitController:!0})}]),angular.module("pages").factory("Mailer",["Restangular","$rootScope",function(e){var r;return r=function(){function r(){}return r.prototype.contact_us=function(r){return e.all("mailer").customPOST("contact_us",{form_values:r})},r}(),new r}]),angular.module("platform").controller("FreelancersCtrl",["$scope","Freelancer","job_categories","$route",function(e,r,t,o){var n,i=this;return e.$watch("query.conditions.job_title",function(r){return angular.forEach(e.jobTitles,function(t,o){return angular.forEach(t,function(t){return angular.equals(r,t)?e.current_job_category=o:void 0})})}),e.$on("search:menu",function(r,t){return t.selected===!1?(delete e.query.conditions.job_title,e.current_job_title="All"):(e.query.conditions.job_title=t.selected,e.current_job_title=t.selected)}),e.$on("search:input",function(r,t){return null!=t&&t.length>0?e.query.search=t:delete e.query.search}),this.refreshList=function(){return r.count(e.query).then(function(r){return e.total_results=r,e.total_pages=Math.ceil(r/e.query.per_page)},function(){return e.notify_error("Unable to fetch count from server")}),r.all(e.query).then(function(r){return e.freelancers=r},function(){return e.notify_error("Unable to fetch result from server")})},e.clearFilters=function(){return o.reload()},n=function(){return e.jobTitles={Writing:_.uniq(["Scriptwriter","Writer","Copywriter","Journalist","Editor"]),Design:_.uniq(["Product Designer","Graphic Designer","Multimedia Designer","Motion Graphic Designer","Art Director","Creative Director","Set Designer","Wardrode Designer","Web Designer"]),Production:_.uniq(["2D & 3D Animator","Illustrator","Video Producer","Director","Soundman","Lightingman","Videographer","Cameraman","Grip & Gaffer","Production Manager","Location Manager","Director","Video Editor","3D Artist","Photographer","DI Artist","Audio Producer","Project Manager"]),Others:_.uniq(["Voice-over Artist","Translator","Marketing","PR"])},e.current_job_title="All",e.current_job_category="All",e.query={},e.query.search="",e.query.page=1,e.query.per_page=5,e.query.conditions={profile_incomplete:!1},e.job_categories=t,e.$watch("query",function(e,r,t){return e.page===r.page&&(t.query.page=1),i.refreshList()},!0),i.refreshList()},n()}]),angular.module("platform").controller("FreelancersShowCtrl",["$scope","freelancer","Project",function(e,r,t){return e.freelancer=r,e.offerProject=function(){return t.add_offer(e.offering_project_id,r.id).then(function(r){return console.log(r),e.notify_success("Project offered")},function(e){return console.log(e),alert("fai")})}}]),angular.module("platform").controller("ProjectsCtrl",["$scope","Project","job_categories","$route",function(e,r,t,o){var n,i=this;return e.$on("search:menu",function(r,t){switch(t.name){case"job_categories":return t.selected===!1?(delete e.query.conditions.job_category_id,e.current_job_category="All"):(e.query.conditions.job_category_id=t.selected.id,e.current_job_category=t.selected.name);case"budget_range":return t.selected===!1?delete e.query.conditions.budget_range:e.query.conditions.budget_range=t.selected}}),e.$on("search:input",function(r,t){return null!=t&&t.length>0?e.query.search=t:delete e.query.search}),this.refreshList=function(){return r.count(e.query).then(function(r){return e.total_results=r,e.total_pages=Math.ceil(r/e.query.per_page)},function(){return e.notify_error("Unable to fetch count from server")}),r.all(e.query).then(function(r){return e.projects=r},function(){return e.notify_error("Unable to fetch result from server")})},e.clearFilters=function(){return o.reload()},n=function(){return e.current_job_category="All",e.budget_ranges=["S$0 - S$500","S$500 - S$1000","S$1000 - S$2000","S$2000 - S$3000","S$3000 - S$5000","S$5000 - S$10000"],e.query={},e.query.search="",e.query.page=1,e.query.per_page=5,e.query.conditions={project_status:"project_pending"},e.job_categories=t,e.$watch("query",function(e,r,t){return e.page===r.page&&(t.query.page=1),i.refreshList()},!0),i.refreshList()},n()}]),angular.module("platform").controller("ProjectsShowCtrl",["$scope","project","Project",function(e,r,t){return e.project=r,e.selected_bidder_id=null,e.userEmployed=r.freelancer_id===e.current_user.id,e.userIsEmployer=r.employer_id===e.current_user.id,e.userOffered=_.contains(r.offer_ids,e.current_user.id),e.userBidded=_.contains(r.bidder_ids,e.current_user.id),e.userCanBid=!e.userEmployed&&!e.userBidded&&!e.userOffered,e.bidProject=function(){return t.add_bidder(r.id,e.current_user.id).then(function(r){return e.project=r,e.userOffered=!1,e.userBidded=!0,e.userCanBid=!1,e.notify_success("Your bid has been placed")},function(r){return console.log(r),e.notify_error("Something wrong..")})},e.deleteProject=function(){var o;return o=t.destroy(r.id,{delegate:!0}),o.then(function(){return e.redirect_to("projects",{success:"Your project is deleted"})},function(){return e.notify_error("Unable to delete this project")})},e.completeProject=function(){return t.mark_as_complete(r.id).then(function(){return e.redirect_to("projects",{success:"Your project is now completed"})},function(r){var t,o;return console.log(r),null!=(null!=(t=r.data)?t.message:void 0)?e.notify_error(null!=(o=r.data)?o.message:void 0):void 0})},e.acceptOffer=function(){return t.accept_offer(r.id,e.current_user.id).then(function(r){return e.project=r,e.userOffered=!1,e.userBidded=!1,e.userEmployed=!0,e.userCanBid=!1,e.notify_success("You accepted the offer.")},function(r){return console.log(r),e.notify_error("Something wrong...")})},e.acceptBid=function(o){return console.log(o),null===o?e.notify_error("Please select a bidder from the list"):t.accept_bid(r.id,o).then(function(r){return e.project=r,e.userOffered=!1,e.userBidded=!1,e.userCanBid=!1,e.notify_success("You accepted the bid.")},function(r){return console.log(r),e.notify_error("Something wrong...")})}}]),angular.module("platform").directive("jobCategoriesFilter",[function(){return{restrict:"E",templateUrl:"partials/platform/job_categories_filter.html",scope:{},controller:["$scope",function(e){return e.setJobTitle=function(r){return console.log(r.target.innerHTML),e.$emit("search:menu",{name:"job_title",selected:r.target.innerHTML})}}]}}]),angular.module("platform").directive("searchMenu",[function(){return{restrict:"E",templateUrl:"partials/platform/search.menu.html",scope:{name:"@",options:"@"},controller:["$scope","$parse","$attrs",function(e,r,t){var o,n,i,u,a,s,l;if(u=t.name,a=t.options,o=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,!(i=a.match(o)))throw Error("Expected options in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+a+"'.");return e.displayFn=r(i[2]||i[1]),s=i[4]||i[6],e.valueFn=r(i[2]?i[1]:s),l=r(i[7]),e.list=function(){var r,t,o,i;for(o=l(e.$parent),i=[],r=0,t=o.length;t>r;r++)n=o[r],i.push({item:n});return i}(),console.log(u),e.select=function(r){return e.$emit("search:menu",{name:u,selected:r})}}]}}]),angular.module("platform").directive("searchInput",["$timeout",function(e){return{restrict:"A",controller:["$scope","$element",function(e,r){return e.$on("search:trigger",function(){return e.search()}),e.search=function(){return e.$emit("search:input",r.val())}}],link:function(r,t){var o;return o=null,t.keyup(function(){return e.cancel(o),o=e(function(){return r.search()},500)})}}}]),angular.module("platform").directive("searchButton",[function(){return{restrict:"A",link:function(e,r){return r.click(function(){return e.$emit("search:trigger")})}}}]);var __hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var o in r)__hasProp.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};angular.module("account").factory("Employer",["Restangular","$rootScope","$filter",function(e,r,t){var o,n;return o=function(e){function r(){return n=r.__super__.constructor.apply(this,arguments)}return __extends(r,e),r}(BaseModel),new o(e,r,t,"employer","employers")}]);var __hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var o in r)__hasProp.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};angular.module("account").factory("Freelancer",["Restangular","$rootScope","$filter",function(e,r,t){var o,n;return o=function(e){function r(){return n=r.__super__.constructor.apply(this,arguments)}return __extends(r,e),r}(BaseModel),new o(e,r,t,"freelancer","freelancers")}]);var __hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var o in r)__hasProp.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};angular.module("platform").factory("JobCategory",["Restangular","$rootScope","$filter",function(e,r,t){var o,n;return o=function(e){function r(){return n=r.__super__.constructor.apply(this,arguments)}return __extends(r,e),r}(BaseModel),new o(e,r,t,"job_category","job_categories")}]);var __hasProp={}.hasOwnProperty,__extends=function(e,r){function t(){this.constructor=e}for(var o in r)__hasProp.call(r,o)&&(e[o]=r[o]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e};angular.module("platform").factory("Project",["Restangular","$rootScope","$filter",function(e,r,t){var o,n;return o=function(r){function t(){return n=t.__super__.constructor.apply(this,arguments)}return __extends(t,r),t.prototype.add_bidder=function(r,t){return e.one("projects",r).customPOST("add_bidder",{user_id:t})},t.prototype.add_offer=function(r,t){return e.one("projects",r).customPOST("add_offer",{user_id:t})},t.prototype.accept_offer=function(r,t){return e.one("projects",r).customPOST("accept_offer",{user_id:t})},t.prototype.accept_bid=function(r,t){return e.one("projects",r).customPOST("accept_bid",{user_id:t})},t.prototype.mark_as_complete=function(r){return e.one("projects",r).customPUT("mark_as_complete")},t}(BaseModel),new o(e,r,t,"project","projects")}]),angular.module("platform").config(["$routeProvider","WardenProvider",function(e,r){return r.simplify(e).set_template_prefix("views/platform").when("projects.show/:id",{resolves:["project"]}).when("projects",{resolves:["job_categories"]}).when("freelancers.show/:id",{resolves:["freelancer"],user:!0}).when("freelancers",{resolves:["job_categories"]})}]),resolvables.freelancer=["Freelancer","$route",function(e,r){var t;return t=r.current.params.id,e.find(t)}],resolvables.freelancers=["Freelancer",function(e){return e.all({conditions:{profile_incomplete:!1},per_page:8})}],resolvables.job_categories=["JobCategory",function(e){return e.all()}],resolvables.project=["$q","Project","$route","$rootScope",function(e,r,t,o){var n,i;return n=t.current.params.id,i=r.find(n,{delegate:!0}),i.then(function(e){return e},function(r){return o.redirect_to("projects",{error:"Project cannot be found"}),e.reject(r)})}];